<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>A Message for Sonya</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <style>
    :root { 
      --yes: #9333ea; 
      --noBg: #f3e8ff; 
      --card: rgba(255, 255, 255, 0.98); 
      --text: #2e1065; 
    }
    * { box-sizing: border-box; }
    body { 
      margin: 0; 
      min-height: 100svh; 
      display: grid; 
      place-items: center; 
      background: radial-gradient(circle at center, #2e1065 0%, #0f0720 100%); 
      font-family: system-ui, -apple-system, sans-serif; 
      overflow: hidden; 
      padding: 16px; 
    }
    .card { 
      width: min(450px, 92vw); 
      padding: 40px 25px; 
      background: var(--card); 
      border-radius: 24px; 
      text-align: center; 
      box-shadow: 0 20px 60px rgba(0,0,0,0.4); 
    }
    .collapsible-content { 
      display: grid; 
      grid-template-rows: 0fr; 
      transition: all 0.6s ease; 
      opacity: 0; 
    }
    .collapsible-content.open { 
      grid-template-rows: 1fr; 
      opacity: 1; 
      margin-top: 25px; 
    }
    .inner { overflow: hidden; }
    .art { 
      width: 100%; 
      max-width: 280px; 
      margin: 0 auto 15px; 
      display: block; 
      border-radius: 15px; 
    }
    h1 { 
      font-size: clamp(28px, 5vw, 40px); 
      margin: 0; 
      color: var(--text); 
      transition: opacity 0.5s ease; 
    }
    .button-zone { 
      position: relative; 
      width: 100%; 
      height: 140px; 
      margin-top: 10px; 
      touch-action: none; 
    }
    button { 
      position: absolute; 
      top: 50%; 
      transform: translateY(-50%); 
      padding: 14px 28px; 
      font-size: 18px; 
      font-weight: 800; 
      border-radius: 999px; 
      border: none; 
      cursor: pointer; 
    }
    #yesBtn { 
      left: 10%; 
      background: var(--yes); 
      color: #fff; 
      z-index: 10; 
      transition: transform 0.2s; 
    }
    #noBtn { 
      left: 60%; 
      background: var(--noBg); 
      color: var(--yes); 
      z-index: 100; 
      transition: all 0.15s ease; 
    }
    .result { display: none; }
    .result h2 { 
      font-size: 34px; 
      color: var(--yes); 
      margin-bottom: 10px; 
    }
  </style>
</head>
<body>
  <main class="card" id="mainCard">
    <h1 id="heading"></h1>
    <div class="collapsible-content" id="stretch">
      <div class="inner">
        <img class="art" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExdWZoM2t6ODd4czc0dXZ5aTY4b3lwdW5yczdrYmx0OThtODhkaDMzNCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/Zl7u48zLVFgLpRwq6f/giphy.gif">
        <section class="button-zone" id="zone">
          <button id="yesBtn">Yes</button>
          <button id="noBtn">No</button>
        </section>
      </div>
    </div>
    <section class="result" id="result">
      <h2>Yay! I knew it! ðŸŽ‰</h2>
      <p style="color: var(--text); font-size: 18px; font-weight: 600;">You're stuck with me now! ðŸ’œ</p>
      <img class="art" src="https://media.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3eHU0MndsYzZ1MGpqaXBoNHNmeGp6YWFvcjU2eGNseWF4NGdhY2t5OCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/lYjA4tfvCc8UAju1Op/giphy.gif">
    </section>
  </main>

  <script>
    const heading = document.getElementById("heading");
    const stretch = document.getElementById("stretch");
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const zone = document.getElementById("zone");
    const result = document.getElementById("result");

    window.onload = () => {
      heading.innerText = "Hi Sonya,";
      heading.style.opacity = 1;
      setTimeout(() => {
        heading.style.opacity = 0;
        setTimeout(() => {
          heading.innerText = "Will you be my Valentine?";
          heading.style.opacity = 1;
          stretch.classList.add('open');
        }, 600);
      }, 1600);
    };

    let scale = 1;
    function moveNo() {
      const z = zone.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();
      noBtn.style.left = Math.random() * (z.width - b.width) + "px";
      noBtn.style.top = Math.random() * (z.height - b.height) + "px";
      scale += 0.2;
      yesBtn.style.transform = `translateY(-50%) scale(${scale})`;
    }

    noBtn.onmouseover = moveNo;
    noBtn.ontouchstart = (e) => { e.preventDefault(); moveNo(); };

    yesBtn.onclick = () => {
      heading.style.display = "none";
      stretch.style.display = "none";
      result.style.display = "block";
      confetti({ 
        particleCount: 200, 
        spread: 80, 
        origin: { y: 0.6 },
        colors: ['#9333ea', '#ffffff', '#c084fc']
      });
    };
  </script>
</body>
</html>
